<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar sesi√≥n - H&B Importaciones</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Mejorar distribuci√≥n del formulario de registro */
        .auth-grid {
            display: grid !important;
            grid-template-columns: 1fr 1fr !important;
            gap: 2rem !important;
            max-width: 1400px !important;
            margin: 0 auto !important;
            align-items: start !important;
        }
        
        .auth-section {
            background: white !important;
            padding: 2.5rem !important;
            border-radius: 12px !important;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
            height: fit-content !important;
            width: 100% !important;
        }
        
        .auth-section:first-child {
            /* Login - sin scroll */
        }
        
        .auth-section:last-child {
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .auth-divider {
            display: none !important;
        }
        
        .auth-section:last-child::-webkit-scrollbar {
            width: 6px;
        }
        
        .auth-section:last-child::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        .auth-section:last-child::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        
        .auth-section:last-child::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            align-items: start;
        }
        
        .field {
            margin-bottom: 1.5rem;
            display: flex;
            flex-direction: column;
        }
        
        .field:has(.field-hint) {
            margin-bottom: 1.5rem;
        }
        
        .field label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 6px;
            font-size: 14px;
        }
        
        .field input[type="text"],
        .field input[type="email"],
        .field input[type="tel"],
        .field input[type="password"] {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease;
            background: white;
        }
        
        .field input[type="text"]:focus,
        .field input[type="email"]:focus,
        .field input[type="tel"]:focus,
        .field input[type="password"]:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .field input[type="text"]::placeholder,
        .field input[type="email"]::placeholder,
        .field input[type="tel"]::placeholder,
        .field input[type="password"]::placeholder {
            color: #9ca3af;
        }
        
        .field-hint {
            font-size: 12px;
            color: #6b7280;
            margin-top: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            position: relative;
            top: 0;
            left: 0;
        }
        
        .field-hint::before {
            content: 'üí°';
            font-size: 14px;
        }
        
        .field:has(.field-hint) {
            margin-bottom: 1.5rem;
        }
        
        .checkbox-field {
            margin-bottom: 1.5rem;
        }
        
        .checkbox-label {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 14px;
            line-height: 1.5;
            cursor: pointer;
            padding: 0;
            margin: 0;
        }
        
        .checkbox-custom {
            width: 18px;
            height: 18px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            position: relative;
            flex-shrink: 0;
            margin-top: 0;
            background: white;
            transition: all 0.2s ease;
        }
        
        .checkbox-label input[type="checkbox"] {
            display: none;
        }
        
        .checkbox-label:hover .checkbox-custom {
            border-color: #3b82f6;
        }
        
        .checkbox-label input[type="checkbox"]:checked + .checkbox-custom {
            background: #3b82f6;
            border-color: #3b82f6;
        }
        
        .checkbox-label input[type="checkbox"]:checked + .checkbox-custom::after {
            content: '‚úì';
            position: absolute;
            top: -1px;
            left: 3px;
            color: white;
            font-size: 14px;
            font-weight: bold;
        }
        
        .checkbox-label a {
            color: #3b82f6;
            text-decoration: underline;
            font-weight: 500;
        }
        
        .checkbox-label a:hover {
            color: #1d4ed8;
            text-decoration: none;
        }
        
        /* Forzar el grid en todos los casos */
        .auth-grid > * {
            display: block !important;
        }
        
        @media (max-width: 768px) {
            .auth-grid {
                grid-template-columns: 1fr !important;
                gap: 1rem !important;
            }
            
            .form-row {
                grid-template-columns: 1fr !important;
            }
            
            .auth-section:last-child {
                max-height: none !important;
            }
        }
        
        /* Asegurar que el contenedor principal use el grid */
        main .container .auth-grid {
            display: grid !important;
            grid-template-columns: 1fr 1fr !important;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="topbar">
            <div class="container topbar-content">
                <span>Lunes a Viernes 09:00 a 18:00 | S√°bados 09:00 a 13:00</span>
                <div class="spacer"></div>
                <span>Bienvenido a H&B Importaciones</span>
                <div class="spacer"></div>
                <a href="#" class="top-link"><span data-icon="location" style="width:14px;height:14px;display:inline-block;vertical-align:-2px"></span> Ubicaci√≥n</a>
                <a href="#" class="top-link"><span data-icon="truck" style="width:14px;height:14px;display:inline-block;vertical-align:-2px"></span> Rastrear pedido</a>
                <button class="top-link" onclick="openAdvisorsModal()" style="background:none;border:none;cursor:pointer;color:inherit;font:inherit;padding:0;margin:0"><span data-icon="users" style="width:14px;height:14px;display:inline-block;vertical-align:-2px"></span> Asesores</button>
                <a href="../../index.html" class="top-link"><span data-icon="store" style="width:14px;height:14px;display:inline-block;vertical-align:-2px"></span> Tienda</a>
                <a href="login.html" class="top-link" id="login-link"><span data-icon="user" style="width:14px;height:14px;display:inline-block;vertical-align:-2px"></span> Mi Cuenta</a>
            </div>
        </div>
        <div class="header-main">
            <div class="container">
                <div class="header-content">
                    <a class="brand" href="../../index.html">H&B<span class="web-badge">web</span></a>
                    <div class="search">
                        <span class="search-icon" data-icon="search" style="width:18px;height:18px"></span>
                        <input type="text" placeholder="Buscar productos...">
                    </div>
                    <div class="header-icons">
                        <a href="#" class="icon-btn">
                            <span class="icon" data-icon="compare" style="width:16px;height:16px"></span>
                            <span class="badge">0</span>
                        </a>
                        <a href="#" class="icon-btn">
                            <span class="icon" data-icon="heart" style="width:16px;height:16px"></span>
                        </a>
                        <a href="../user/cart.html" class="icon-btn">
                            <span class="icon" data-icon="cart" style="width:16px;height:16px"></span>
                            <span class="badge" id="cart-count">0</span>
                            <span class="cart-total" id="cart-total">$0,00</span>
                        </a>
                        <span id="logout-container"></span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container" style="margin-bottom: 80px;">
        <div class="auth-grid" style="margin-top:16px;">
            <section class="auth-section">
                <h2 class="auth-title">Acceder</h2>
                <p class="auth-sub">¬°Bienvenido de nuevo! Inicia sesi√≥n en tu cuenta.</p>
                <form id="login-form" class="form">
                    <div class="field">
                        <label for="email">Nombre de usuario o correo electr√≥nico</label>
                        <input id="email" type="email" required autocomplete="username" placeholder="tu@correo.com">
                    </div>
                    <div class="field">
                        <label for="password">Contrase√±a</label>
                        <input id="password" type="password" required autocomplete="current-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <div class="actions" style="justify-content:flex-start;gap:8px;align-items:center;">
                        <label class="muted" style="margin-right:6px">Autocompletar demo</label>
                        <div class="chip-group">
                            <button type="button" class="chip" data-fill-user="admin">Admin</button>
                            <button type="button" class="chip" data-fill-user="distributor">Distribuidora</button>
                            <button type="button" class="chip" data-fill-user="client">Cliente</button>
                        </div>
                    </div>
                    <div class="actions" style="justify-content:space-between;">
                        <a class="text-link" href="register.html">¬øOlvidaste la contrase√±a? / Registrarse</a>
                        <button class="btn brand" type="submit">Acceso</button>
                    </div>
                </form>
                
                <!-- Mensajes de entrega -->
                <div class="delivery-info" style="margin-top: 2rem; padding: 1.25rem; background: #ffffff; border-radius: 8px; border: 1px solid #e5e7eb; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);">
                    <h3 style="margin: 0 0 1.25rem 0; color: #374151; font-size: 1rem; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <span data-icon="truck" style="width:16px;height:16px;display:inline-block;vertical-align:-2px;color:#6b7280;"></span>
                        Informaci√≥n de Entrega
                    </h3>
                    <div class="delivery-messages" style="display: flex; flex-direction: column; gap: 0.75rem;">
                        <div class="delivery-message" style="padding: 1rem; background: #f9fafb; border-radius: 6px; border: 1px solid #f3f4f6;">
                            <span style="color: #374151; font-weight: 500; font-size: 0.9rem; display: flex; align-items: center; gap: 8px;">
                                <span style="color: #3b82f6; font-size: 1.1rem;">üìç</span>
                                Realizamos entregas en Quito y a provincia
                            </span>
                        </div>
                        <div class="delivery-message" style="padding: 1rem; background: #f9fafb; border-radius: 6px; border: 1px solid #f3f4f6;">
                            <span style="color: #374151; font-weight: 500; font-size: 0.9rem; display: flex; align-items: center; gap: 8px;">
                                <span style="color: #f59e0b; font-size: 1.1rem;">‚è±Ô∏è</span>
                                El tiempo de entrega depende del transporte de carga pesada
                            </span>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="auth-section">
                <h2 class="auth-title">Registrarse</h2>
                <p class="auth-sub">Crea una nueva cuenta hoy para disfrutar de los beneficios de una experiencia de compra personalizada.</p>
                <form id="register-form" class="form">
                    <!-- Informaci√≥n Personal -->
                    <div class="form-row">
                        <div class="field">
                            <label for="firstName">Nombres *</label>
                            <input id="firstName" type="text" required autocomplete="given-name" placeholder="Ingresa tus nombres">
                        </div>
                        <div class="field">
                            <label for="lastName">Apellidos *</label>
                            <input id="lastName" type="text" required autocomplete="family-name" placeholder="Ingresa tus apellidos">
                        </div>
                    </div>

                    <!-- Informaci√≥n de Contacto -->
                    <div class="field">
                        <label for="reg-email">Correo Electr√≥nico *</label>
                        <input id="reg-email" type="email" required autocomplete="email" placeholder="tu@email.com">
                    </div>
                    <div class="field">
                        <label for="phone">Tel√©fono *</label>
                        <input id="phone" type="tel" required autocomplete="tel" placeholder="+593 99 999 9999">
                    </div>

                    <!-- Seguridad -->
                    <div class="form-row">
                        <div class="field">
                            <label for="reg-password">Contrase√±a *</label>
                            <input id="reg-password" type="password" required autocomplete="new-password" placeholder="M√≠nimo 8 caracteres">
                            <div class="field-hint">La contrase√±a debe tener al menos 8 caracteres</div>
                        </div>
                    <div class="field">
                            <label for="confirmPassword">Confirmar Contrase√±a *</label>
                            <input id="confirmPassword" type="password" required autocomplete="new-password" placeholder="Repite tu contrase√±a">
                        </div>
                    </div>

                    <!-- T√©rminos y Condiciones -->
                    <div class="field checkbox-field">
                        <label class="checkbox-label">
                            <input type="checkbox" id="terms" required>
                            <span class="checkbox-custom"></span>
                            Acepto los <a href="#" onclick="alert('T√©rminos y Condiciones pr√≥ximamente disponibles')">t√©rminos y condiciones</a> y la <a href="#" onclick="alert('Pol√≠tica de Privacidad pr√≥ximamente disponible')">pol√≠tica de privacidad</a> *
                        </label>
                    </div>
                    <div class="field checkbox-field">
                        <label class="checkbox-label">
                            <input type="checkbox" id="newsletter">
                            <span class="checkbox-custom"></span>
                            Quiero recibir ofertas y novedades por correo electr√≥nico
                        </label>
                    </div>

                    <div class="actions" style="justify-content:flex-start;">
                        <button class="btn brand" type="submit">Crear Cuenta</button>
                    </div>
                </form>
                <div class="benefits">
                    <div class="benefit"><span class="dot"></span><span>Seguir tus pedidos f√°cilmente.</span></div>
                    <div class="benefit"><span class="dot"></span><span>Mantener un registro de todas tus compras.</span></div>
                    <div class="benefit"><span class="dot"></span><span>Obtener nuestra lista de precios exclusiva.</span></div>
                </div>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <!-- Logo y contacto principal -->
                <div class="footer-section">
                    <div class="footer-logo">
                        <h3>H&B<span class="web-badge">web</span></h3>
                        <p class="footer-tagline">Importaciones</p>
                    </div>
                    <div class="footer-contact">
                        <p><span data-icon="headphones" style="width:16px;height:16px;display:inline-block;vertical-align:-2px;margin-right:8px"></span>¬øNecesitas ayuda? ¬°Cont√°ctanos!</p>
                        <p class="contact-phone"><strong>(+593) 099-484-6405</strong></p>
                    </div>
                    <div class="footer-address">
                        <h4>Vis√≠tanos</h4>
                        <p>Quito - Ecuador</p>
                        <p>Av. Amazonas y Rep√∫blica</p>
                    </div>
                </div>

                <!-- Encuentra r√°pido -->
                <div class="footer-section">
                    <h4>Encu√©ntralo r√°pido</h4>
                    <ul class="footer-links">
                        <li><a href="../user/store.html">Laptops & Computadores</a></li>
                        <li><a href="../user/store.html">Monitores</a></li>
                        <li><a href="../user/store.html">Componentes</a></li>
                        <li><a href="../user/store.html">Celulares & Tablets</a></li>
                        <li><a href="../user/store.html">TVs & Proyectores</a></li>
                        <li><a href="../user/store.html">Gaming</a></li>
                    </ul>
                </div>

                <!-- Atenci√≥n al cliente -->
                <div class="footer-section">
                    <h4>Atenci√≥n al Cliente</h4>
                    <ul class="footer-links">
                        <li><a href="#contact">Centro de Ayuda</a></li>
                        <li><a href="#shipping">Informaci√≥n de Env√≠o</a></li>
                        <li><a href="#returns">Pol√≠tica de Devoluciones</a></li>
                        <li><a href="#warranty">Garant√≠as</a></li>
                        <li><a href="#terms">T√©rminos y Condiciones</a></li>
                        <li><a href="#privacy">Pol√≠tica de Privacidad</a></li>
                    </ul>
                </div>

                <!-- Newsletter y redes -->
                <div class="footer-section">
                    <h4>Mantente Conectado</h4>
                    <p class="newsletter-text">Suscr√≠bete para recibir las √∫ltimas ofertas y novedades</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="tu@email.com" class="newsletter-input">
                        <button type="submit" class="newsletter-btn">
                            <span data-icon="arrow-right" style="width:16px;height:16px"></span>
                        </button>
                    </form>
                    <div class="social-links">
                        <a href="#" class="social-link" title="Facebook">
                            <span data-icon="facebook" style="width:18px;height:18px"></span>
                        </a>
                        <a href="#" class="social-link" title="Instagram">
                            <span data-icon="instagram" style="width:18px;height:18px"></span>
                        </a>
                        <a href="#" class="social-link" title="WhatsApp">
                            <span data-icon="phone" style="width:18px;height:18px"></span>
                        </a>
                        <a href="#" class="social-link" title="Email">
                            <span data-icon="mail" style="width:18px;height:18px"></span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Footer bottom -->
            <div class="footer-bottom">
                <div class="footer-legal">
                    <p>¬© <span id="year"></span> H&B Importaciones. Todos los derechos reservados.</p>
                    <p class="footer-location">Quito, Ecuador</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="../../js/utils/helpers.js"></script>
    <script src="../../js/auth-simple.js"></script>
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // Agregar par√°metro de redirecci√≥n a los enlaces de registro
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const redirectParam = urlParams.get('redirect');
            
            if (redirectParam) {
                // Actualizar todos los enlaces a register.html
                const registerLinks = document.querySelectorAll('a[href="register.html"]');
                registerLinks.forEach(link => {
                    link.href = `register.html?redirect=${redirectParam}`;
                });
                
                // Actualizar el form de registro r√°pido
                const quickRegForm = document.querySelector('form[onsubmit*="register.html"]');
                if (quickRegForm) {
                    quickRegForm.setAttribute('onsubmit', `event.preventDefault(); window.location.href='register.html?redirect=${redirectParam}'`);
                }
            }
        });
    </script>
    
    <!-- Script para el formulario de registro -->
    <script>
        (function(){
            const form = document.getElementById('register-form');
            if(!form) return;

            // Validaci√≥n en tiempo real
            function validateField(fieldId, validator, errorMessage) {
                const field = document.getElementById(fieldId);
                const fieldContainer = field.closest('.field');
                
                field.addEventListener('blur', () => {
                    const isValid = validator(field.value);
                    if (isValid) {
                        fieldContainer.classList.remove('error');
                        fieldContainer.classList.add('success');
                    } else {
                        fieldContainer.classList.remove('success');
                        fieldContainer.classList.add('error');
                    }
                });
            }

            // Validadores
            function validateName(value) {
                return value.trim().length >= 2;
            }

            function validateEmail(value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(value);
            }

            function validatePhone(value) {
                const phoneRegex = /^\+593\s?\d{2}\s?\d{3}\s?\d{4}$/;
                return phoneRegex.test(value);
            }

            function validatePassword(value) {
                return value.length >= 8;
            }

            function validateWhatsApp(value) {
                const whatsappRegex = /^\+593\s?\d{2}\s?\d{3}\s?\d{4}$/;
                return whatsappRegex.test(value);
            }

            // Aplicar validaciones
            validateField('firstName', validateName, 'El nombre debe tener al menos 2 caracteres');
            validateField('lastName', validateName, 'El apellido debe tener al menos 2 caracteres');
            validateField('reg-email', validateEmail, 'Ingresa un correo electr√≥nico v√°lido');
            validateField('phone', validatePhone, 'Ingresa un tel√©fono v√°lido (+593 99 999 9999)');
            validateField('reg-password', validatePassword, 'La contrase√±a debe tener al menos 8 caracteres');

            // Validaci√≥n de confirmaci√≥n de contrase√±a
            const confirmPasswordField = document.getElementById('confirmPassword');
            const passwordField = document.getElementById('reg-password');
            
            function validatePasswordMatch() {
                const confirmContainer = confirmPasswordField.closest('.field');
                const passwordsMatch = passwordField.value === confirmPasswordField.value && confirmPasswordField.value.length > 0;
                
                if (passwordsMatch) {
                    confirmContainer.classList.remove('error');
                    confirmContainer.classList.add('success');
                } else {
                    confirmContainer.classList.remove('success');
                    confirmContainer.classList.add('error');
                }
            }

            confirmPasswordField.addEventListener('input', validatePasswordMatch);
            passwordField.addEventListener('input', validatePasswordMatch);

            form.addEventListener('submit', (e)=>{
                e.preventDefault();
                
                // Obtener todos los campos del formulario
                const firstName = document.getElementById('firstName').value.trim();
                const lastName = document.getElementById('lastName').value.trim();
                const email = document.getElementById('reg-email').value.trim().toLowerCase();
                const phone = document.getElementById('phone').value.trim();
                const password = document.getElementById('reg-password').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                const role = 'client'; // Rol por defecto: cliente
                const terms = document.getElementById('terms').checked;
                const newsletter = document.getElementById('newsletter').checked;

                // Validaciones
                if (!firstName || !lastName) {
                    if (window.Helpers && window.Helpers.showToast) {
                        window.Helpers.showToast('Por favor completa todos los campos obligatorios', 'warning');
                    }
                    return;
                }

                if (password.length < 8) {
                    if (window.Helpers && window.Helpers.showToast) {
                        window.Helpers.showToast('La contrase√±a debe tener al menos 8 caracteres', 'warning');
                    }
                    return;
                }

                if (password !== confirmPassword) {
                    if (window.Helpers && window.Helpers.showToast) {
                        window.Helpers.showToast('Las contrase√±as no coinciden', 'warning');
                    }
                    return;
                }

                if (!terms) {
                    if (window.Helpers && window.Helpers.showToast) {
                        window.Helpers.showToast('Debes aceptar los t√©rminos y condiciones', 'warning');
                    }
                    return;
                }

                const users = StorageAPI.getUsers();
                if(users.some(u=>u.email.toLowerCase()===email)){
                    if (window.Helpers && window.Helpers.showToast) {
                        window.Helpers.showToast('Este correo ya est√° registrado', 'warning');
                    }
                    return;
                }

                const id = 'u' + Math.random().toString(36).slice(2,9);
                const fullName = `${firstName} ${lastName}`;
                const newUser = { 
                    id, 
                    role, 
                    name: fullName,
                    firstName,
                    lastName,
                    email, 
                    phone,
                    password, 
                    active: true,
                    newsletter,
                    createdAt: new Date().toISOString()
                };
                
                users.push(newUser);
                StorageAPI.setUsers(users);
                StorageAPI.setSession({ id, role, name: fullName });
                
                if (window.Helpers && window.Helpers.showToast) {
                    window.Helpers.showToast('¬°Cuenta creada con √©xito! Bienvenido a H&B Importaciones', 'success', 3000);
                }
                
                // Redirigir seg√∫n par√°metros URL
                const urlParams = new URLSearchParams(window.location.search);
                const redirectParam = urlParams.get('redirect');
                
                let redirectUrl = '../user/store.html'; // Por defecto va a la tienda
                
                // Si hay un par√°metro de redirecci√≥n, usarlo
                if (redirectParam) {
                    switch(redirectParam) {
                        case 'store':
                            redirectUrl = '../user/store.html';
                            break;
                        case 'admin':
                            redirectUrl = '../admin/index.html';
                            break;
                        case 'distri':
                            redirectUrl = '../distri/index.html';
                            break;
                    }
                }
                
                // Redirigir despu√©s de un breve delay para mostrar el toast
                setTimeout(() => {
                    window.location.href = redirectUrl;
                }, 2000);
            });
        })();
        // ===== FUNCIONALIDAD DEL MODAL DE ASESORES =====
        function openAdvisorsModal() {
            const modal = document.getElementById('advisors-modal');
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeAdvisorsModal() {
            const modal = document.getElementById('advisors-modal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        function contactAdvisor(email, name) {
            const subject = encodeURIComponent('Consulta desde H&B Importaciones');
            const body = encodeURIComponent(`Hola ${name},\n\nMe gustar√≠a recibir asesor√≠a sobre productos disponibles.\n\nGracias.`);
            const mailtoLink = `mailto:${email}?subject=${subject}&body=${body}`;
            window.open(mailtoLink);
            alert(`Redirigiendo a ${name}`);
        }

        // Cerrar modal con Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeAdvisorsModal();
            }
        });
    </script>

    <!-- Advisors Modal -->
    <div id="advisors-modal" class="advisors-modal">
        <div class="advisors-backdrop" onclick="closeAdvisorsModal()"></div>
        <div class="advisors-panel">
            <div class="advisors-content">
                <div class="advisors-header">
                    <div class="advisors-title-section">
                        <h2>Nuestros Asesores</h2>
                        <p>Elige con qui√©n te gustar√≠a contactar para recibir asesor√≠a personalizada</p>
                        <button class="advisors-close-btn" onclick="closeAdvisorsModal()">
                            √ó
                        </button>
                    </div>
                </div>

                <div class="advisors-grid">
                    <!-- Asesor 1 -->
                    <div class="advisor-card">
                        <div class="advisor-avatar">
                            <img src="https://via.placeholder.com/80x80?text=MR" alt="Mar√≠a Rodr√≠guez" />
                        </div>
                        <div class="advisor-info">
                            <h3>Mar√≠a Rodr√≠guez</h3>
                            <p class="advisor-role">Especialista en Laptops</p>
                            <p class="advisor-description">Experta en equipos port√°tiles y soluciones empresariales</p>
                            <div class="advisor-contact">
                                <span class="advisor-status online">‚óè En l√≠nea</span>
                                <button class="advisor-contact-btn" onclick="contactAdvisor('maria.rodriguez@hbimportaciones.com', 'Mar√≠a Rodr√≠guez')">
                                    Contactar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Asesor 2 -->
                    <div class="advisor-card">
                        <div class="advisor-avatar">
                            <img src="https://via.placeholder.com/80x80?text=CL" alt="Carlos L√≥pez" />
                        </div>
                        <div class="advisor-info">
                            <h3>Carlos L√≥pez</h3>
                            <p class="advisor-role">Especialista en Gaming</p>
                            <p class="advisor-description">Conoce todo sobre equipos gaming y componentes de alta gama</p>
                            <div class="advisor-contact">
                                <span class="advisor-status online">‚óè En l√≠nea</span>
                                <button class="advisor-contact-btn" onclick="contactAdvisor('carlos.lopez@hbimportaciones.com', 'Carlos L√≥pez')">
                                    Contactar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Asesor 3 -->
                    <div class="advisor-card">
                        <div class="advisor-avatar">
                            <img src="https://via.placeholder.com/80x80?text=AM" alt="Ana Mart√≠nez" />
                        </div>
                        <div class="advisor-info">
                            <h3>Ana Mart√≠nez</h3>
                            <p class="advisor-role">Especialista en Componentes</p>
                            <p class="advisor-description">Experta en CPUs, GPUs y componentes de computadoras</p>
                            <div class="advisor-contact">
                                <span class="advisor-status busy">‚óè Ocupada</span>
                                <button class="advisor-contact-btn" onclick="contactAdvisor('ana.martinez@hbimportaciones.com', 'Ana Mart√≠nez')">
                                    Contactar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Asesor 4 -->
                    <div class="advisor-card">
                        <div class="advisor-avatar">
                            <img src="https://via.placeholder.com/80x80?text=DG" alt="Diego Garc√≠a" />
                        </div>
                        <div class="advisor-info">
                            <h3>Diego Garc√≠a</h3>
                            <p class="advisor-role">Especialista en Monitores</p>
                            <p class="advisor-description">Conoce las mejores opciones en monitores y displays</p>
                            <div class="advisor-contact">
                                <span class="advisor-status online">‚óè En l√≠nea</span>
                                <button class="advisor-contact-btn" onclick="contactAdvisor('diego.garcia@hbimportaciones.com', 'Diego Garc√≠a')">
                                    Contactar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
